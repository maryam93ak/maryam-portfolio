---
const { currentPath = "/" } = Astro.props;
---

<!-- Desktop Navigation -->
<nav class="side-nav">
  <ul>
    <li>
      <a href="/" title="Home" class={currentPath === "/" ? "active" : ""}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
      </a>
    </li>
    <li>
      <a href="/#about" title="About">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <circle cx="12" cy="7" r="4"></circle>
          <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="/#projects" title="Projects">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="3" y1="9" x2="21" y2="9"></line>
          <line x1="9" y1="21" x2="9" y2="9"></line>
        </svg>
      </a>
    </li>
    <li>
      <a href="/blog" title="Blog" class={currentPath === "/blog" ? "active" : ""}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M12 20h9"></path>
          <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="/playground" title="Playground" class={currentPath === "/playground" ? "active" : ""}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <circle cx="12" cy="12" r="10"></circle>
          <polygon points="10,8 16,12 10,16 10,8"></polygon>
        </svg>
      </a>
    </li>
    <li>
      <a href="/#contact" title="Contact">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
          <polyline points="22,6 12,13 2,6"></polyline>
        </svg>
      </a>
    </li>
    <li>
      <button class="dark-mode-toggle" title="Toggle dark mode">
        <svg
          class="moon-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <svg
          class="sun-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
      </button>
    </li>
  </ul>
</nav>

<!-- Mobile Navigation -->
<nav class="bottom-nav">
  <ul>
    <li>
      <a href="/" title="Home" class={currentPath === "/" ? "active" : ""}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
      </a>
    </li>
    <li>
      <a href="/#about" title="About">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <circle cx="12" cy="7" r="4"></circle>
          <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="/#projects" title="Projects">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="3" y1="9" x2="21" y2="9"></line>
          <line x1="9" y1="21" x2="9" y2="9"></line>
        </svg>
      </a>
    </li>
    <li>
      <a href="/blog" title="Blog" class={currentPath === "/blog" ? "active" : ""}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M12 20h9"></path>
          <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="/playground" title="Playground" class={currentPath === "/playground" ? "active" : ""}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <circle cx="12" cy="12" r="10"></circle>
          <polygon points="10,8 16,12 10,16 10,8"></polygon>
        </svg>
      </a>
    </li>
    <li>
      <a href="/#contact" title="Contact">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
          <polyline points="22,6 12,13 2,6"></polyline>
        </svg>
      </a>
    </li>
    <li class="dark-mode-toggle-wrapper">
      <button class="dark-mode-toggle">
        <svg
          class="moon-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <svg
          class="sun-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
      </button>
    </li>
  </ul>
</nav>

<style>
  /* --- Vertical Navigation (Desktop) --- */
  .side-nav {
    position: fixed;
    top: 50%;
    left: 3rem;
    transform: translateY(-50%);
    z-index: 1000;
    transition: top 0.4s ease-out;
  }

  .side-nav ul {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
    background-color: rgba(0, 0, 0, 0.1);
    border-radius: 999px;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }

  .side-nav a {
    display: block;
    padding: 0.5rem;
    border-radius: 50%;
    transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .side-nav svg {
    width: 24px;
    height: 24px;
    display: block;
    color: var(--nav-icon-color);
    transition: color 0.3s ease;
  }

  .side-nav a:hover svg,
  .side-nav a.active svg {
    color: var(--nav-icon-active);
  }

  .side-nav a:hover {
    transform: scale(1.1);
  }

  .side-nav a.active {
    background-color: rgba(255, 255, 255, 0.2);
  }

  /* Scrolled state for side nav */
  .side-nav.scrolled ul {
    background-color: var(--white);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .side-nav.scrolled svg {
    color: var(--nav-icon-color);
  }

  .side-nav.scrolled a:hover svg,
  .side-nav.scrolled a.active svg {
    color: var(--primary-orange);
  }

  .side-nav.scrolled a.active {
    background-color: transparent;
  }

  /* Dark mode toggle button */
  .dark-mode-toggle {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease;
  }

  .dark-mode-toggle:hover {
    transform: scale(1.1) rotate(15deg);
  }

  .dark-mode-toggle svg {
    width: 24px;
    height: 24px;
    color: var(--nav-icon-color);
    transition: color 0.3s ease;
  }

  .side-nav.scrolled .dark-mode-toggle svg {
    color: var(--nav-icon-color);
  }

  .dark-mode-toggle:hover svg {
    color: var(--nav-icon-active);
  }

  .side-nav.scrolled .dark-mode-toggle:hover svg {
    color: var(--primary-orange);
  }

  .dark-mode-toggle .sun-icon {
    display: none;
  }
  :global(body.dark-mode) .dark-mode-toggle .sun-icon {
    display: block;
  }
  :global(body.dark-mode) .dark-mode-toggle .moon-icon {
    display: none;
  }

  /* --- Bottom Navigation (Mobile) --- */
  .bottom-nav {
    display: none;
  }

  /* --- Responsive Design --- */
  @media (max-width: 1024px) {
    .side-nav {
      left: 1rem;
    }
  }

  @media (max-width: 768px) {
    /* Hide side nav and show bottom nav on mobile */
    .side-nav {
      display: none;
    }

    .bottom-nav {
      display: block;
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
    }

    .bottom-nav ul {
      list-style: none;
      display: flex;
      gap: 1rem;
      padding: 1rem;
      background-color: rgba(0, 0, 0, 0.1);
      border-radius: 999px;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* Scrolled state for bottom nav */
    .bottom-nav.scrolled ul {
      background-color: var(--white);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .bottom-nav a,
    .bottom-nav .dark-mode-toggle {
      display: block;
      padding: 0.5rem;
      border-radius: 50%;
      transition: background-color 0.3s ease, transform 0.3s ease;
      background: none;
      border: none;
      cursor: pointer;
    }

    .bottom-nav svg {
      width: 24px;
      height: 24px;
      display: block;
      color: var(--nav-icon-color);
      transition: color 0.3s ease;
    }

    .bottom-nav a:hover svg,
    .bottom-nav a.active svg,
    .bottom-nav .dark-mode-toggle:hover svg {
      color: var(--nav-icon-active);
    }

    .bottom-nav a:hover,
    .bottom-nav .dark-mode-toggle:hover {
      transform: scale(1.1);
    }

    .bottom-nav a.active {
      background-color: rgba(255, 255, 255, 0.2);
    }

    /* Scrolled state styles for mobile nav */
    .bottom-nav.scrolled svg {
      color: var(--nav-icon-color);
    }

    .bottom-nav.scrolled a:hover svg,
    .bottom-nav.scrolled a.active svg,
    .bottom-nav.scrolled .dark-mode-toggle:hover svg {
      color: var(--primary-orange);
    }

    .bottom-nav.scrolled a.active {
      background-color: transparent;
    }

    .bottom-nav.scrolled .dark-mode-toggle:hover {
      transform: scale(1.1) rotate(15deg);
    }
  }
</style>