---
import Layout from '../layouts/Layout.astro';
---

<Layout
  title="My Story | Maryam Akhyani"
  description="The journey from architecture to product management - a story of curiosity, design thinking, and human-centered innovation."
  currentPath="/story"
>
  <!-- Logo -->
  <a href="/" class="logo" title="Maryam Akhyani"></a>

  <!-- Timeline Section -->
  <section class="timeline-section">
    <div class="container">
      <!-- Scroll indicator -->
      <div class="scroll-indicator">
        <div class="scroll-text">Scroll to explore my journey</div>
        <div class="scroll-arrow">↓</div>
      </div>
      <div class="timeline">
        
        <!-- Timeline Item 1: The Leap to Canada -->
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <h3>The Leap to Canada – Redesigning a Career, Not Just a Resume</h3>
            <ul>
              <li>Moved to <strong>Vancouver, BC</strong>, with an <strong>open work permit</strong> and a designer's curiosity — eager to observe how people, products, and cities behave differently in a new cultural context.</li>
              <li>Currently <strong>re-shaping my career with humility and curiosity</strong>, exploring how <strong>human-centered innovation</strong> translates across markets and how empathy-driven design thinking scales globally.</li>
              <li>Deep-diving into <strong>Generative AI</strong> — learning to co-create with these tools for <strong>data analysis, ideation, documentation,</strong> and <strong>product prototyping</strong>, using them as creative and strategic partners.</li>
              <li>Building a <strong>personal brand and portfolio site</strong> that reflects both the <strong>craft</strong> and the <strong>thinking</strong> — bridging creative intuition with measurable product impact.</li>
            </ul>
          </div>
        </div>

        <!-- Timeline Item 2: Product Design to Product Management -->
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <h3>Product Design to Product Management – Where Logic Meets Empathy</h3>
            <ul>
              <li>Transitioned from <strong>UX Designer</strong> to <strong>Product Manager</strong> within fast-paced SaaS and logistics platforms, where analytical problem-solving meets human experience.</li>
              <li>At <strong>SnappBox</strong>, led initiatives from <strong>ideation to rollout</strong>, aligning design, research, and business logic to create real impact:
                <ul>
                  <li><strong>Launched district-based destination input</strong> for restaurant partners, cutting delivery confusion and increasing task acceptance.</li>
                  <li><strong>Led cross-functional delivery features</strong> like tipping, ETA estimation, and pricing transparency for van and moving services.</li>
                  <li><strong>Boosted conversions</strong> through improved landing experiences, upsell design, and cross-channel integration.</li>
                </ul>
              </li>
              <li>At <strong>Balad Maps</strong>, took on complex <strong>navigation and routing challenges</strong>, leading the redesign of the <em>Alternative Routes</em> feature — turning it from a frustration point into a <strong>trusted co-pilot</strong> through data-driven experimentation and smarter UX.</li>
              <li>Each project became a space where <strong>art met analytics</strong> — proving that logic and empathy can (and should) coexist in product design.</li>
            </ul>
          </div>
        </div>

        <!-- Timeline Item 3: From Buildings to Experiences -->
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <h3>From Buildings to Experiences – The Design Turn</h3>
            <ul>
              <li>While practicing architecture, realized my favorite part wasn't about walls or façades — it was understanding <strong>how people moved, felt, and interacted</strong> within space.</li>
              <li>That realization evolved into designing <strong>digital experiences</strong> — sketching interfaces, mapping user journeys, and learning that "space" can exist in pixels just as it does in architecture.</li>
              <li>Taught myself <strong>UX principles, design systems,</strong> and <strong>product strategy</strong>, merging creative intuition with logic, data, and empathy.</li>
              <li>The shift wasn't about leaving architecture — it was about <strong>expanding the medium of impact.</strong></li>
            </ul>
          </div>
        </div>

        <!-- Timeline Item 4: Early Roots -->
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <h3>Early Roots – The Architect Who Saw Systems Beyond Buildings</h3>
            <ul>
              <li>Earned a <strong>Master's in Architectural Technologies</strong>, where curiosity leaned more toward <strong>how systems behaved</strong> than how structures stood.</li>
              <li>Spent countless hours modeling <strong>adaptive façades</strong> and experimenting with <strong>parametric tools</strong> like <em>Grasshopper</em> and <em>Rhino</em>, long before "AI-assisted design" became a buzzword.</li>
              <li><strong>Thesis:</strong> <em>Adaptive Façade Design for an Innovation Center using Neural Networks</em> — where architecture met machine learning for the first time.</li>
              <li>Alongside studies, worked as a <strong>part-time architect and computational designer</strong>, crafting façades and interiors with a focus on <strong>human-building interaction.</strong></li>
              <li>Earned a <strong>Bachelor's in Architecture</strong> from one of Iran's top universities, actively involved in <strong>volunteer projects, design associations,</strong> and <strong>student leadership</strong> programs that shaped my collaborative mindset.</li>
              <li>As a student passionate about <strong>visual storytelling</strong>, freelanced as a <strong>visual and brand identity designer</strong> for small IT startups — an experience that sharpened my communication with tech teams and later became my <strong>gateway into the tech world.</strong></li>
              <li>After graduation, joined <strong>RMJM's Tehran Studio</strong> as a <strong>BIM Architect</strong>, contributing to <strong>mixed-use and cultural projects</strong> and deepening my understanding of <strong>design systems and multidisciplinary collaboration.</strong></li>
            </ul>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="story-cta">
    <div class="container">
      <h2>Let's Connect</h2>
      <p>Curious about my journey or want to discuss product design, architecture, or the intersection of technology and human experience?</p>
      <div class="cta-buttons">
        <a href="mailto:Maryam.Akhyani@gmail.com?subject=Let's Connect" class="cta-button primary">Get In Touch</a>
        <a href="/" class="cta-button secondary">Back to Home</a>
      </div>
    </div>
  </section>

</Layout>

<style>
  /* Logo Styles */
  :global(.logo) {
    position: fixed;
    top: 1.5rem;
    left: 3rem;
    z-index: 1001;
    font-family: "Playfair Display", serif;
    font-size: 0;
    font-weight: 400;
    text-decoration: none;
    color: #d96d2b;
    transition: all 0.3s ease;
  }

  :global(.logo::before) {
    content: "Maryam";
    display: block;
    font-size: 1.2rem;
    line-height: 1;
    font-family: "Playfair Display", serif;
    font-weight: 400;
    transition: all 0.3s ease;
    transform-origin: center center;
  }

  :global(.logo::after) {
    content: "Akhyani";
    display: block;
    font-size: 1.2rem;
    line-height: 1.1;
    margin-top: -0.05em;
    font-family: "Playfair Display", serif;
    font-weight: 400;
    transition: all 0.3s ease;
    transform-origin: center center;
    padding-bottom: 0.1em;
  }

  :global(.logo:hover) {
    color: var(--primary-orange);
    transform: scale(1.05);
  }

  :global(body.dark-mode .logo) {
    color: #d4af37;
  }

  :global(body.dark-mode .logo:hover) {
    color: var(--primary-orange);
  }

  /* --- Timeline Section --- */
  .timeline-section {
    padding: 8rem 0 4rem 0;
    background: var(--light-bg);
    min-height: 100vh;
    position: relative;
  }

  /* Scroll indicator */
  .scroll-indicator {
    position: absolute;
    top: 50%;
    right: 2rem;
    transform: translateY(-50%);
    text-align: center;
    opacity: 0.7;
    transition: opacity 0.3s ease;
    z-index: 10;
  }

  .scroll-indicator.hidden {
    opacity: 0;
    pointer-events: none;
  }

  .scroll-text {
    font-size: 0.875rem;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
    font-weight: 500;
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }

  .scroll-arrow {
    font-size: 1.5rem;
    color: var(--primary-orange);
    animation: bounce 2s infinite;
  }

  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .timeline {
    position: relative;
    max-width: 1000px;
    margin: 0 auto;
    padding-left: 100px;
    padding-top: 20px;
  }

  /* Vertical timeline line */
  .timeline::before {
    content: '';
    position: absolute;
    left: 30px;
    top: 0;
    height: 100%;
    width: 3px;
    background: var(--primary-orange);
    border-radius: 2px;
  }

  /* Upward arrow at the top of timeline */
  .timeline::after {
    content: '';
    position: absolute;
    left: 30px;
    top: -15px;
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 15px solid var(--primary-orange);
    transform: translateX(-50%);
  }

  .timeline-item {
    position: relative;
    margin-bottom: 5rem;
    opacity: 0;
    transform: translateY(50px);
    transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Preview state for timeline items below the fold */
  .timeline-item.preview {
    opacity: 0.3;
    transform: translateY(0);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .timeline-item.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Staggered animation delays for smooth sequential appearance */
  .timeline-item:nth-child(1) {
    transition-delay: 0s;
  }

  .timeline-item:nth-child(2) {
    transition-delay: 0.1s;
  }

  .timeline-item:nth-child(3) {
    transition-delay: 0.2s;
  }

  .timeline-item:nth-child(4) {
    transition-delay: 0.3s;
  }

  /* Circular marker on the timeline */
  .timeline-marker {
    position: absolute;
    left: -59px;
    top: 0;
    width: 50px;
    height: 50px;
    background: var(--primary-orange);
    border-radius: 50%;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    z-index: 2;
    /* Marker animation - starts scaled down */
    transform: scale(0);
    transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  /* Animate marker when parent timeline-item becomes visible */
  .timeline-item.visible .timeline-marker {
    transform: scale(1);
  }

  /* Preview state for markers */
  .timeline-item.preview .timeline-marker {
    transform: scale(0.6);
    opacity: 0.5;
  }

  /* Content - no background card, just text */
  .timeline-content {
    padding: 0;
    position: relative;
  }

  .timeline-content h3 {
    font-family: "Playfair Display", serif;
    font-size: 1.875rem;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 1.5rem;
    line-height: 1.3;
    /* Heading fade-in animation */
    opacity: 0;
    transform: translateX(-20px);
    transition: all 0.6s ease 0.2s;
  }

  .timeline-item.visible .timeline-content h3 {
    opacity: 1;
    transform: translateX(0);
  }

  /* Preview state for headings */
  .timeline-item.preview .timeline-content h3 {
    opacity: 0.4;
    transform: translateX(0);
  }

  .timeline-content ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .timeline-content li {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
    position: relative;
    line-height: 1.7;
    color: var(--text-dark);
    font-size: 1rem;
    /* List items fade-in animation */
    opacity: 0;
    transform: translateX(-15px);
    transition: all 0.5s ease;
  }

  /* Staggered fade-in for list items */
  .timeline-item.visible .timeline-content li {
    opacity: 1;
    transform: translateX(0);
  }

  /* Preview state for list items */
  .timeline-item.preview .timeline-content li {
    opacity: 0.2;
    transform: translateX(0);
  }

  .timeline-item.visible .timeline-content li:nth-child(1) {
    transition-delay: 0.3s;
  }

  .timeline-item.visible .timeline-content li:nth-child(2) {
    transition-delay: 0.4s;
  }

  .timeline-item.visible .timeline-content li:nth-child(3) {
    transition-delay: 0.5s;
  }

  .timeline-item.visible .timeline-content li:nth-child(4) {
    transition-delay: 0.6s;
  }

  .timeline-item.visible .timeline-content li:nth-child(n+5) {
    transition-delay: 0.7s;
  }

  .timeline-content li::before {
    content: '•';
    color: var(--primary-orange);
    font-weight: bold;
    font-size: 1.3em;
    position: absolute;
    left: 0;
    top: 0;
  }

  .timeline-content ul ul {
    margin-top: 0.75rem;
    margin-left: 1rem;
  }

  .timeline-content ul ul li {
    font-size: 0.95rem;
    color: #6b6b6b;
  }

  .timeline-content ul ul li::before {
    content: '◦';
    color: var(--secondary-orange);
    font-size: 1.2em;
  }

  /* --- Call to Action Section --- */
  .story-cta {
    background: var(--white);
    padding: 4rem 0;
    text-align: center;
  }

  .story-cta h2 {
    font-family: "Playfair Display", serif;
    font-size: 2.5rem;
    font-weight: 400;
    color: var(--text-dark);
    margin-bottom: 1rem;
  }

  .story-cta p {
    font-size: 1.125rem;
    color: var(--text-dark);
    margin-bottom: 2rem;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 2rem;
    border-radius: 999px;
    text-decoration: none;
    font-weight: 500;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    min-width: 150px;
  }

  .cta-button.primary {
    background: var(--primary-orange);
    color: var(--white);
    border-color: var(--primary-orange);
  }

  .cta-button.primary:hover {
    background: #c35a1f;
    border-color: #c35a1f;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(217, 109, 43, 0.3);
  }

  .cta-button.secondary {
    background: transparent;
    color: var(--text-dark);
    border-color: var(--primary-orange);
  }

  .cta-button.secondary:hover {
    background: var(--primary-orange);
    color: var(--white);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(217, 109, 43, 0.3);
  }

  /* --- Responsive Design --- */
  @media (max-width: 1024px) {
    :global(.logo) {
      left: 1rem;
    }

    :global(.logo::before),
    :global(.logo::after) {
      font-size: 1rem;
    }
  }

  @media (max-width: 768px) {
    :global(.logo) {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 2rem;
      padding: 0.5rem 1.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    :global(body.dark-mode .logo) {
      background: rgba(45, 40, 36, 0.95);
    }

    .timeline-section {
      padding: 6rem 0 4rem 0;
    }

    .scroll-indicator {
      right: 1rem;
    }

    .scroll-text {
      font-size: 0.75rem;
    }

    .scroll-arrow {
      font-size: 1.25rem;
    }

    .timeline {
      padding-left: 60px;
      padding-top: 20px;
    }

    .timeline::before {
      left: 20px;
      top: 0;
    }

    .timeline::after {
      left: 20px;
      top: -15px;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 12px solid var(--primary-orange);
    }

    .timeline-item {
      margin-bottom: 4rem;
    }

    .timeline-marker {
      width: 20px;
      height: 20px;
      left: -50px;
    }

    .timeline-content h3 {
      font-size: 1.5rem;
    }

    .timeline-content li {
      font-size: 0.95rem;
    }

    .cta-buttons {
      flex-direction: column;
      align-items: center;
    }

    .cta-button {
      width: 100%;
      max-width: 250px;
    }
  }

  /* --- Dark Mode Support --- */
  :global(body.dark-mode) .timeline-content {
    color: var(--text-dark);
  }

  :global(body.dark-mode) .timeline-content li {
    color: var(--text-dark);
  }

  :global(body.dark-mode) .timeline-marker {
    background: var(--primary-orange);
  }

  :global(body.dark-mode) .story-cta {
    background: var(--white);
  }
</style>

<script>
  // Intersection Observer for smooth scroll-based fade-in animations
  document.addEventListener('DOMContentLoaded', function() {
    const timelineItems = document.querySelectorAll('.timeline-item');
    const scrollIndicator = document.querySelector('.scroll-indicator');
    
    // Set initial preview state for items below the fold
    function setInitialPreviewStates() {
      const viewportHeight = window.innerHeight;
      const firstItem = timelineItems[0];
      
      if (firstItem) {
        const firstItemRect = firstItem.getBoundingClientRect();
        const firstItemBottom = firstItemRect.bottom;
        
        // If first item doesn't fill the viewport, show preview of other items
        if (firstItemBottom < viewportHeight * 0.8) {
          timelineItems.forEach((item, index) => {
            if (index > 0) {
              item.classList.add('preview');
            }
          });
        }
      }
    }
    
    // Create an intersection observer with optimized settings for smooth animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        // Add 'visible' class when element enters viewport
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          entry.target.classList.remove('preview');
        } else {
          // Add preview state for items that are below the fold
          const rect = entry.target.getBoundingClientRect();
          const viewportHeight = window.innerHeight;
          
          if (rect.top > viewportHeight * 0.5) {
            entry.target.classList.add('preview');
            entry.target.classList.remove('visible');
          }
        }
      });
    }, {
      // Trigger when 15% of the element is visible
      threshold: 0.15,
      // Start triggering animation slightly before element enters viewport
      rootMargin: '0px 0px -100px 0px'
    });

    // Handle scroll indicator visibility
    function handleScrollIndicator() {
      if (scrollIndicator) {
        const scrollY = window.scrollY;
        const viewportHeight = window.innerHeight;
        
        // Hide scroll indicator after user has scrolled down a bit
        if (scrollY > viewportHeight * 0.3) {
          scrollIndicator.classList.add('hidden');
        } else {
          scrollIndicator.classList.remove('hidden');
        }
      }
    }

    // Set initial states
    setInitialPreviewStates();
    
    // Observe each timeline item
    timelineItems.forEach(item => {
      observer.observe(item);
    });
    
    // Handle scroll events for indicator
    window.addEventListener('scroll', handleScrollIndicator);
    
    // Handle resize events
    window.addEventListener('resize', () => {
      setInitialPreviewStates();
    });
  });
</script>
